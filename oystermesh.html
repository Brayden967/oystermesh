<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Oyster Mesh</title>
    <script src="oystermesh.js"></script>
    <script src="oy_resources/peer.min.js"></script>
    <script src="oy_resources/sha1.js"></script>
    <script src="oy_resources/aes.js"></script>
    <script src="oy_resources/pbkdf2.js"></script>
    <base target="_blank">
    <style type="text/css">
        @font-face {
            font-family: 'geo_med';
            src: url('oy_resources/geo_med.ttf') format('truetype');
        }

        @font-face {
            font-family: 'geo_light';
            src: url('oy_resources/geo_light.ttf') format('truetype');
        }

        body, html {
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: geo_light, Fallback, sans-serif;
            color: #d7d7d7;
            background-image: radial-gradient(circle, #ababab, #727272, #404040);
        }

        @-webkit-keyframes fade_in {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @-moz-keyframes fade_in {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes fade_in {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes bounce {
            0% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(2vh);
            }
        }

        @keyframes expand {
            0% {
                transform: scale(0.9);
            }
            100% {
                transform: scale(1.1);
            }
        }

        .oy_button_execute_active {
            background-color: #14a2cc;
            border:0.1vh solid #14a2cc;
            color: #f3f3f3;
        }

        .oy_button_execute_active:hover {
            cursor: pointer;
        }

        .oy_button_halt_active {
            background-color: #c37b2c;
            border:0.1vh solid #c37b2c;
            color: #f3f3f3;
        }

        .oy_button_halt_active:hover {
            cursor: pointer;
        }

        .oy_button_reset_active {
            background-color: #525252;
            border:0.1vh solid #525252;
            color: #f3f3f3;
        }

        .oy_button_reset_active:hover {
            cursor: pointer;
        }

        .oy_button_all_dull {
            background-color: #7A7A7A;
            border:0.1vh solid #7A7A7A;
            color: #4a4a4a;
        }

        .oy_button_all_dull:hover {
            cursor: not-allowed;
        }

        .oy_slide {
            position: relative;
            top: 0;
            width: 100%;
            height: 85%;
            overflow: hidden;
        }
        a {
            color:black;
        }

        .oy_fade {
            opacity: 0;
            animation: fade_in ease-in 1;
            animation-fill-mode: forwards;
        }

        .oy_fade.one {
            animation-duration: 0.4s;
        }

        .oy_fade.two {
            animation-delay: 0.1s;
            animation-duration: 0.25s;
        }
        @media screen and (orientation: landscape) {
            .oy_shell_img {
                position: relative;
                width: auto;
                height: auto;
                max-height: 20vh;
                max-width: 28vh;
                top: 0;
                left: 0;
                animation: bounce 11s ease-in-out infinite;
                animation-delay: 0.1s;
                z-index: 100;
            }

            .oy_shell_cont_img {
                position: absolute;
                top: 6vh;
                left: 50%;
                height: 27vh;
                transform: translateX(-50%);
            }

            .oy_shadow {
                position: absolute;
                bottom: 0;
                left: 0;
                width: 100%;
                height: 6.5vh;
                animation: expand 5.5s ease-in-out infinite;
                animation-direction: alternate;
                animation-delay: 0.1s;
            }

            .oy_holder {
                position:absolute;
                left:50%;
                transform:translateX(-50%);
                top:35vh;
                width: 110vh;
                height: 58vh;
                z-index: 10000;
            }

            .oy_tab {
                border-radius: 0.5vh;
                padding: 0.5vh 1vh;
                font-size:1.7vh;
                font-family: geo_med, Fallback, sans-serif;
            }

            .oy_tab:hover {
                cursor: pointer;
            }

            .oy_description {
                position:absolute;
                top:0;
                left:0;
                transform: translateY(-100%);
                font-size:1.5vh;
            }

            .oy_description_handle {
                position:absolute;
                top:0;
                left:0;
                transform: translateY(-100%);
                font-size:1.8vh;
            }

            .oy_superhandle {
                position:absolute;
                top:18%;
                left:5%;
                width:90%;
                height:20%;
                border:0.1vh dashed #727272;
            }

            .oy_superhandle_sub {
                font-size:0.95vh;
                font-family: 'Courier New', sans-serif;
            }

            .oy_superhandle_sub:hover {
                cursor: pointer;
            }

            .oy_input_corner {
                position:absolute;
                bottom:14%;
                left:5%;
                width:50%;
                height:30%;
                border:0.1vh dashed #727272;
                font-size:1vh;
            }

            .oy_mesh_rate {
                position:absolute;
                bottom:14%;
                left:59%;
                width:14%;
                height:30%;
                border:0.1vh dashed #727272;
                font-size:1vh;
            }

            .oy_rate {
                position:absolute;
                top:50%;
                left:50%;
                transform: translate(-50%, -50%);
                font-family: geo_light, Fallback, sans-serif;
                font-size:3vh;
            }

            .oy_button {
                border-radius: 0.5vh;
                text-align: center;
                text-decoration: none;
                display: inline-block;
                font-family: geo_med, Fallback, sans-serif;
                font-size:1.5vh;
            }

            .oy_border {
                border-radius: 0.5vh;
            }

            .oy_border.oy_graph_nonce {
                border:0.2vh solid #404040;
            }

            .oy_border.oy_interface_main {
                border:0.2vh solid #404040;
            }

            .oy_peer {
                position:absolute;
                left:5%;
                width:90%;
                height:12%;
                border:0.1vh dashed #727272;
                color:#000000;
                font-weight:bold;
            }

            .oy_peer_sub {
                position:absolute;
                left:0;
                top:0;
                width:100%;
                height:100%;
            }

            .oy_peer_beam {
                position:absolute;
                left:0;
                top:0;
                width:100%;
                height:100%;
                background-color: #626262;
            }

            .oy_peer_soak {
                position:absolute;
                left:0;
                top:0;
                width:100%;
                height:100%;
                background-color: #7A7A7A;
            }

            .oy_stats {
                font-size:1.6vh;
            }

            #oy_console {
                width:96%;
                height:99%;
                overflow: scroll;
                font-family:'Courier New', sans-serif;
                font-size: 1vh;
            }

            .oy_tooltip {
                position: absolute;
            }

            .oy_tooltip .oy_tooltip_text {
                position: absolute;
                width: 11vh;
                background-color: #555;
                color: #fff;
                text-align: center;
                border-radius: 0.6vh;
                padding: 0.6vh;
                z-index: 1;
                bottom: 150%;
                left: 50%;
                margin-left: -5.5vh;
                opacity: 0;
            }

            .oy_tooltip .oy_tooltip_text::after {
                content: "";
                position: absolute;
                top: 100%;
                left: 50%;
                margin-left: -0.6vh;
                border-width: 0.6vh;
                border-style: solid;
                border-color: #555 transparent transparent transparent;
            }

            .oy_tooltip:hover .oy_tooltip_text {
                opacity: 1;
            }

            .oy_tooltip_warn {
                position: absolute;
            }

            .oy_tooltip_warn .oy_tooltip_text_warn {
                position: absolute;
                width: 12vh;
                background-color: #c37b2c;
                color: #151515;
                text-align: center;
                border-radius: 0.6vh;
                padding: 0.6vh;
                z-index: 1;
                bottom: 150%;
                left: 50%;
                margin-left: -5.5vh;
                opacity: 0;
            }

            .oy_tooltip_warn .oy_tooltip_text_warn::after {
                content: "";
                position: absolute;
                top: 100%;
                left: 50%;
                margin-left: -0.6vh;
                border-width: 0.6vh;
                border-style: solid;
                border-color: #c37b2c transparent transparent transparent;
            }

            .oy_signature {
                position:absolute;
                left:0;
                bottom:0;
                width:100%;
                height:5%;
                color:#000;
                font-size: 1.2vh;
            }

            .oy_signature_img {
                position: relative;
                width: auto;
                height: auto;
                max-height: 1.6vh;
                max-width: 1.6vh;
                transform:translateY(25%);
            }

            #oy_github_ribbon a:hover {
                background: #14a2cc;
                color: #fff;
            }

            #oy_github_ribbon a::before, #github_ribbon a::after {
                content: "";
                width: 100%;
                display: block;
                position: absolute;
                top: 0.1vh;
                left: 0;
                height: 0.1vh;
                background: #0f0f0f;
            }

            #oy_github_ribbon a::after {
                bottom: 0.1vh;
                top: auto;
            }

            #oy_github_ribbon {
                position: absolute;
                display: block;
                top: 0;
                right: 0;
                width: 20vw;
                overflow: hidden;
                height: 20vh;
                z-index: 9999;
            }

            #oy_github_ribbon a {
                background: #000;
                color: #f7f7f7;
                text-decoration: none;
                font-family: arial, sans-serif;
                text-align: center;
                font-weight: bold;
                padding: 0.5vh 4vh;
                font-size: 1.5vh;
                line-height: 3vh;
                transition: 0.5s;
                width: 20vh;
                position: absolute;
                top: 6vh;
                right: -6vh;
                transform: rotate(45deg);
            }
        }
        @media screen and (orientation: portrait) {
            .oy_shell_img {
                position: relative;
                width: auto;
                height: auto;
                max-height: 20vw;
                max-width: 28vw;
                top: 0;
                left: 0;
                animation: bounce 11s ease-in-out infinite;
                animation-delay: 0.1s;
                z-index: 100;
            }

            .oy_shell_cont_img {
                position: absolute;
                top: 12vw;
                left: 50%;
                height: 27vw;
                transform: translateX(-50%);
            }

            .oy_shadow {
                position: absolute;
                bottom: 0;
                left: 0;
                width: 100%;
                height: 6.5vw;
                animation: expand 5.5s ease-in-out infinite;
                animation-direction: alternate;
                animation-delay: 0.1s;
            }

            .oy_holder {
                position:absolute;
                left:50%;
                transform:translateX(-50%);
                top: 41vw;
                width: 80vw;
                height: 60vw;
                z-index: 10000;
            }

            .oy_border {
                border-radius: 0.5vw;
            }

            #oy_github_ribbon a:hover {
                background: #14a2cc;
                color: #fff;
            }

            #oy_github_ribbon a::before, #oy_github_ribbon a::after {
                content: "";
                width: 100%;
                display: block;
                position: absolute;
                top: 0.1vw;
                left: 0;
                height: 0.1vw;
                background: #f7f7f7;
            }

            #oy_github_ribbon a::after {
                bottom: 0.1vw;
                top: auto;
            }

            #oy_github_ribbon {
                position: absolute;
                display: block;
                top: 0;
                right: 0;
                width: 20vw;
                overflow: hidden;
                height: 20vw;
                z-index: 9999;
            }

            #oy_github_ribbon a {
                background: #000;
                color: #f7f7f7;
                text-decoration: none;
                font-family: arial, sans-serif;
                text-align: center;
                font-weight: bold;
                padding: 0.5vw 4vw;
                font-size: 1.5vw;
                line-height: 3vw;
                transition: 0.5s;
                width: 20vw;
                position: absolute;
                top: 6vw;
                right: -6vw;
                transform: rotate(45deg);
            }
        }
        .oy_center_hor {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        .oy_center_both {
            position: absolute;
            top:50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body>
<span id="oy_github_ribbon" class="oy_fade two"><a href="https://github.com/brunoblock/oystermesh" target="_blank">GITHUB REPO</a></span>
<div id="front" class="oy_slide" style="height:100%">
    <div class="oy_fade one oy_shell_cont_img">
        <img alt="Oyster" class="oy_shell_img" src="oy_resources/oy_logo_shell.png"/>
        <div class="oy_shadow">
            <div style="position:relative;width:100%;height:100%;background: rgba(48, 48, 48, 0.20);border-radius:50%;filter: blur(8px);">
                <div style="position:absolute;left:50%;top:50%;transform: translateX(-50%) translateY(-50%);width:75%;height:50%;background: rgba(70, 70, 70, 0.40);border-radius:50%;z-index:20"></div>
            </div>
        </div>
    </div>
    <div class="oy_holder oy_fade two">
        <div id="oy_graph_nonce" class="oy_center_hor oy_border oy_graph_nonce" style="top:0;width:50%;height:10%;background-color: #404040;overflow: hidden"></div>
        <div id="oy_interface_main" class="oy_center_hor" style="top:18%;width:50%;height:25%;">
            <div id="oy_tab_push" class="oy_tab oy_left" style="position:fixed;top:-20%;left:1.5%;height:20%;background-color: #404040;z-index:-50;" onclick="oy_tab(this.id)">UPLOAD</div>
            <div id="oy_tab_pull" class="oy_tab" style="position:fixed;top:-20%;height:20%;left: 31%;transform: translateX(-50%);background-color: #7A7A7A;color:#232323;z-index:-50;" onclick="oy_tab(this.id)">DOWNLOAD</div>
            <div id="oy_tab_recommit" class="oy_tab" style="position:fixed;top:-20%;height:20%;left: 55.5%;transform: translateX(-50%);background-color: #7A7A7A;color:#232323;z-index:-50;" onclick="oy_tab(this.id)">RECOMMIT</div>
            <div id="oy_tab_send" class="oy_tab" style="position:fixed;top:-20%;height:20%;left: 74.5%;transform: translateX(-50%);background-color: #7A7A7A;color:#232323;z-index:-50;" onclick="oy_tab(this.id)">SEND</div>
            <div id="oy_tab_receive" class="oy_tab oy_right" style="position:fixed;top:-20%;right:1.5%;height:20%;background-color: #7A7A7A;color:#232323;z-index:-50;" onclick="oy_tab(this.id)">RECEIVE</div>
            <div id="oy_interface_store" class="oy_center_hor oy_border oy_interface_main" style="top:0;width:100%;height:100%;background-color: #404040;z-index:100;">
                <div align="center" class="oy_border oy_superhandle oy_tooltip oy_tooltip_warn">
                    <div class="oy_description_handle">HANDLE</div>
                    <div class="oy_center_both" style="width:100%;">
                        <div id="oy_tooltip_push" class="oy_tooltip_text" style="display:none;">Copy to clipboard</div>
                        <div id="oy_tooltip_push_warn" class="oy_tooltip_text_warn">Handle not copied!</div>
                        <input id="oy_push_superhandle" type="text" class="oy_superhandle_sub" style="text-align:center;width:98%;" onclick="oy_push_superhandle_copy()" onmouseout="oy_push_superhandle_reset()" readonly="readonly" value="" />
                    </div>
                </div>
                <div class="oy_border oy_input_corner">
                    <div class="oy_description">FILE&nbsp;UPLOAD</div>
                    <div style="position:absolute;top:25%;left:5%;">
                        <input type="file" id="oy_file_upload" onmouseenter="oy_push_reset_handle_enter()" onmouseleave="oy_push_reset_handle_leave()" />
                    </div>
                </div>
                <div class="oy_border oy_mesh_rate" style="position:absolute;bottom:14%;left:59%;width:14%;height:30%;">
                    <div class="oy_description">MESH&nbsp;RATE</div>
                    <div class="oy_rate">
                        M-
                    </div>
                </div>
                <div id="oy_push_execute" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:32%;right:5%;width:18%;height:14%;" onclick="oy_push_execute()">
                    <div style="position:relative;top:-3%;">
                        MESH&nbsp;PUSH
                    </div>
                </div>
                <div id="oy_push_halt" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:14%;right:15.5%;width:7.5%;height:14%;" onclick="oy_push_halt()">
                    <div style="position:relative;top:-3%;">
                        HALT
                    </div>
                </div>
                <div id="oy_push_reset" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:14%;right:5%;width:9.5%;height:14%;" onclick="oy_push_reset()" onmouseenter="oy_push_reset_handle_enter()" onmouseleave="oy_push_reset_handle_leave()">
                    <div style="position:relative;top:-3%;">
                        RESET
                    </div>
                </div>
            </div>
            <div id="oy_interface_retrieve" class="oy_center_hor oy_border oy_interface_main" style="top:0;width:100%;height:100%;background-color: #404040;z-index:100;display:none">
                <div align="center" class="oy_border oy_superhandle">
                    <div class="oy_description_handle">HANDLE</div>
                    <div class="oy_center_both" style="width:100%;">
                        <input id="oy_pull_superhandle" type="text" class="oy_superhandle_sub" style="text-align:center;width:98%;" onclick="oy_pull_reset_handle_click()" onblur="oy_pull_reset_handle_blur()" onchange="oy_pull_reset_handle_blur()" value="" />
                    </div>
                </div>
                <div class="oy_border oy_input_corner" style="left:5%;width:32%;">
                    <div class="oy_description">STATISTICS</div>
                    <div style="position:absolute;top:25%;left:20%;">
                    </div>
                </div>
                <div class="oy_border oy_input_corner" style="left:40%;width:32%;">
                    <div class="oy_description">DESTINATION</div>
                    <div style="position:absolute;top:25%;left:20%;">
                    </div>
                </div>
                <div id="oy_pull_execute" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:32%;right:5%;width:18%;height:14%;" onclick="oy_pull_execute()">
                    <div style="position:relative;top:-3%;">
                        MESH&nbsp;PULL
                    </div>
                </div>
                <div id="oy_pull_halt" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:14%;right:15.5%;width:7.5%;height:14%;" onclick="oy_pull_halt()">
                    <div style="position:relative;top:-3%;">
                        HALT
                    </div>
                </div>
                <div id="oy_pull_reset" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:14%;right:5%;width:9.5%;height:14%;" onclick="oy_pull_reset()">
                    <div style="position:relative;top:-3%;">
                        RESET
                    </div>
                </div>
            </div>
            <div id="oy_interface_recommit" class="oy_center_hor oy_border oy_interface_main" style="top:0;width:100%;height:100%;background-color: #404040;z-index:100;display:none">
                <div align="center" class="oy_border oy_superhandle">
                    <div class="oy_description_handle">HANDLE</div>
                    <div class="oy_center_both" style="width:100%;">
                        <input id="oy_recommit_superhandle" type="text" class="oy_superhandle_sub" style="text-align:center;width:98%;" value="" />
                    </div>
                </div>
                <div class="oy_border oy_input_corner" style="position:absolute;bottom:14%;left:5%;width:50%;height:30%;">
                    <div class="oy_description">FILE&nbsp;COVERAGE</div>
                    <div style="position:absolute;top:25%;left:20%;">
                    </div>
                </div>
                <div class="oy_border oy_mesh_rate">
                    <div class="oy_description">MESH&nbsp;RATE</div>
                    <div class="oy_rate">
                        M-
                    </div>
                </div>
                <div id="oy_recommit_execute" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:32%;right:5%;width:18%;height:14%;" onclick="oy_recommit_execute()">
                    <div style="position:relative;top:-3%;">
                        MESH&nbsp;RCMT
                    </div>
                </div>
                <div id="oy_recommit_halt" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:14%;right:5%;width:18%;height:14%;" onclick="oy_recommit_halt()">
                    <div style="position:relative;top:-3%;">
                        REFR&nbsp;HALT
                    </div>
                </div>
            </div>
            <div id="oy_interface_send" class="oy_center_hor oy_border oy_interface_main" style="top:0;width:100%;height:100%;background-color: #404040;z-index:100;display:none">
                <div align="center" class="oy_border oy_superhandle" style="position:absolute;top:18%;left:5%;width:90%;height:12%;font-family: 'Courier New', sans-serif">
                    <div class="oy_description_handle">HANDLE</div>
                    <div id="oy_send_channel" class="oy_center_both">
                        f59a54928db49033433e591c9f80d93b5ebf66e01@null
                    </div>
                </div>
                <div class="oy_border oy_superhandle" style="position:absolute;bottom:14%;left:5%;width:50%;height:30%;">
                    <div class="oy_description">FILE&nbsp;COVERAGE</div>
                    <div style="position:absolute;top:25%;left:20%;">
                    </div>
                </div>
                <div class="oy_border oy_superhandle" style="position:absolute;bottom:14%;left:59%;width:14%;height:30%;">
                    <div class="oy_description">MESH&nbsp;RATE</div>
                    <div class="oy_rate">
                        M-
                    </div>
                </div>
                <div id="oy_send_execute" align="center" class="oy_button oy_button_execute_active" style="position:absolute;bottom:32%;right:5%;width:18%;height:14%;" onclick="oy_send_execute()">
                    <div style="position:relative;top:-3%;">
                        SEND DATA
                    </div>
                </div>
            </div>
            <div id="oy_interface_receive" class="oy_center_hor oy_border oy_interface_main" style="top:0;width:100%;height:100%;background-color: #404040;z-index:100;display:none">
                <div align="center" class="oy_border oy_superhandle" style="position:absolute;top:18%;left:5%;width:90%;height:12%;font-family: 'Courier New', sans-serif">
                    <div class="oy_description_handle">HANDLE</div>
                    <div id="oy_receive_channel" class="oy_center_both">
                        f59a54928db49033433e591c9f80d93b5ebf66e01@null
                    </div>
                </div>
                <div class="oy_border oy_superhandle" style="position:absolute;bottom:14%;left:5%;width:50%;height:30%;">
                    <div class="oy_description">FILE&nbsp;COVERAGE</div>
                    <div style="position:absolute;top:25%;left:20%;">
                    </div>
                </div>
                <div class="oy_border oy_superhandle" style="position:absolute;bottom:14%;left:59%;width:14%;height:30%;">
                    <div class="oy_description">MESH&nbsp;RATE</div>
                    <div class="oy_rate">
                        M-
                    </div>
                </div>
                <div id="oy_receive_execute" align="center" class="oy_button oy_button_execute_active" style="position:absolute;bottom:32%;right:5%;width:18%;height:14%;" onclick="oy_receive_execute()">
                    <div style="position:relative;top:-3%;">
                        MESH&nbsp;REFR
                    </div>
                </div>
            </div>
        </div>
        <div class="oy_border oy_graph_nonce" style="position:absolute;bottom:0;left:0;width:49%;height:53%;background-color: #404040;overflow: hidden" onmouseenter="oy_console_hover_on()" onmouseleave="oy_console_hover_off()">
            <div id="oy_console_hover_indicator" style="position:absolute;top:1%;right:1%;width:2.5%;height:4%;background-color: #c37b2c;border-radius: 50%;display: none;z-index: 200;"></div>
            <div id="oy_console" class="oy_center_both">***<br></div>
        </div>
        <div id="oy_graph_nodes" class="oy_border oy_graph_nonce" style="position:absolute;bottom:0;right:0;width:49%;height:53%;background-color: #404040;"></div>
        <div id="oy_stats" class="oy_border oy_graph_nonce" style="position:absolute;top:0;left:0;width:23%;height:43%;background-color: #404040;overflow:hidden;">
            <div class="oy_center_both oy_stats" style="height:77%;width:100%;">
                <div align="right" style="position:absolute;left:-2.5%;top:0;width:50%;height:100%;">
                    SELF&nbsp;SHORT&nbsp;ID<br>
                    AVG&nbsp;LATENCY<br>
                    AVG&nbsp;PEERSHIP<br>
                    PEER&nbsp;COUNT<br>
                    BLACKLISTED<br>
                    MESH&nbsp;RANGE<br>
                    BEAM&nbsp;FLOW<br>
                    SOAK&nbsp;FLOW<br>
                    STORAGE&nbsp;LIMIT<br>
                </div>
                <div class="oy_center_hor" style="top:0;width:0.7%;height:100%;background-color: #2a2a2a;">
                </div>
                <div style="position:absolute;right:-2.5%;top:0;width:50%;height:100%;font-weight:bold;">
                    <span id="oy_self_short">null</span><br>
                    <span id="oy_avg_latency">0</span>&nbsp;sec<br>
                    <span id="oy_avg_peership">0</span>&nbsp;sec<br>
                    <span id="oy_peer_count">0</span>&nbsp;peer(s)<br>
                    <span id="oy_blacklisted">0</span>&nbsp;node(s)<br>
                    <span id="oy_mesh_size">0</span>&nbsp;nodes<br>
                    <span id="oy_beam_flow">0</span>&nbsp;bytes/sec<br>
                    <span id="oy_soak_flow">0</span>&nbsp;bytes/sec<br>
                    <span id="oy_storage_limit">0</span>&nbsp;MB<br>
                </div>
            </div>
        </div>
        <div id="oy_graph_peers" class="oy_border oy_graph_nonce" style="position:absolute;top:0;right:0;width:23%;height:43%;background-color: #404040;">
            <div id="oy_graph_slot_4" class="oy_peer" style="top:4%;"></div>
            <div id="oy_graph_slot_3" class="oy_peer" style="top:24%;"></div>
            <div id="oy_graph_slot_2" class="oy_peer" style="top:44%;"></div>
            <div id="oy_graph_slot_1" class="oy_peer" style="top:64%;"></div>
            <div id="oy_graph_slot_0" class="oy_peer" style="top:84%;"></div>
        </div>
    </div>
    <div class="oy_signature oy_fade two">
        <div class="oy_center_hor" style="top:0;">Designed and developed by <a href="https://github.com/brunoblock"><img alt="Bruno Block" src="oy_resources/oy_logo_bruno.png" class="oy_signature_img"></a></div>
    </div>
</div>
<script type="text/javascript">
    window.onload = function() {
        window.OY_CONSOLE_SIZE = 200;

        window.OY_FILE_DATA = null;
        window.OY_HANDLE_PUSH = null;
        window.OY_HANDLE_PUSH_COPY = null;
        window.OY_HANDLE_PULL = null;
        window.OY_EXECUTE_PUSH = false;
        window.OY_EXECUTE_PULL = false;
        window.OY_EXECUTE_RECOMMIT = false;
        window.OY_EXECUTE_SEND = false;
        window.OY_EXECUTE_RECEIVE = false;
        window.OY_CONSOLE_COUNTER = 0;
        window.OY_CONSOLE_HOVER = false;
        window.OY_GRAPH_PEERS = [false, false, false, false, false];

        document.getElementById("oy_push_superhandle").value = "-".repeat(82);
        document.getElementById("oy_pull_superhandle").value = "-".repeat(82);
        document.getElementById("oy_recommit_superhandle").value = "-".repeat(82);

        //oy_graph_nonce_set(50);
        setTimeout(function() {

            //oy_graph_nonce_set(null);
        }, 2000);
        //oy_graph_nonce_fill(8, [0, 80, 255]);

        oy_console_local("Loading console...");

        document.getElementById("oy_file_upload").addEventListener('change', oy_file_change, false);

        oy_init(function() {
            document.getElementById("oy_storage_limit").innerHTML = window.OY_DEPOSIT_MAX/1000000;
            oy_maintain();
        }, null,
        function(oy_console_msg) {
            oy_console_local(oy_console_msg);
        });
    };

    function oy_maintain() {
        let oy_peer_keep = [];
        for (let oy_peer_local in window.OY_PEERS) {
            if (oy_peer_local==="oy_aggregate_node") continue;
            oy_peer_keep.push([oy_short(oy_peer_local), window.OY_PEERS[oy_peer_local][3], window.OY_PEERS[oy_peer_local][5], window.OY_PEERS[oy_peer_local][7]]);
        }

        oy_peer_keep.sort(function(a, b) {
            return b[1] - a[1];
        });

        let i;
        for (i in oy_peer_keep) {
            if (i>4) break;
            oy_graph_peer(i, oy_peer_keep[i][0]+" - "+oy_peer_keep[i][1].toFixed(3)+"s", Math.round((oy_peer_keep[i][2]/(oy_peer_keep[i][2]+oy_peer_keep[i][3]))*100));
        }
        i++;
        while (i <= 4) {
            oy_graph_peer(i, null, 0);
            i++;
        }

        document.getElementById("oy_self_short").innerHTML = ""+window.OY_MAIN['oy_self_short'];
        document.getElementById("oy_peer_count").innerHTML = ""+window.OY_PEER_COUNT;
        document.getElementById("oy_blacklisted").innerHTML = ""+Object.keys(window.OY_BLACKLIST).length;
        setTimeout("oy_maintain()", 200);
    }

    function oy_console_local(oy_console_msg) {
        let oy_msg_build = "<span>";
        if (typeof(window.OY_MAIN['oy_self_short'])==="undefined") oy_msg_build += "null@mesh$ ";
        else oy_msg_build += window.OY_MAIN['oy_self_short']+"@mesh$ ";
        oy_element_add("oy_console", "span", "oy_console_line_"+window.OY_CONSOLE_COUNTER, oy_msg_build+oy_console_msg+"<br>");
        window.OY_CONSOLE_COUNTER++;
        if (window.OY_CONSOLE_COUNTER>=window.OY_CONSOLE_SIZE) oy_element_remove("oy_console_line_"+(window.OY_CONSOLE_COUNTER-window.OY_CONSOLE_SIZE));
        if (window.OY_CONSOLE_HOVER===false) document.getElementById("oy_console").scrollTo(0, 9000);
    }

    function oy_console_hover_on() {
        window.OY_CONSOLE_HOVER = true;
        document.getElementById("oy_console_hover_indicator").style.display = "block";
    }

    function oy_console_hover_off() {
        window.OY_CONSOLE_HOVER = false;
        document.getElementById("oy_console_hover_indicator").style.display = "none";
        document.getElementById("oy_console").scrollTo(0, 9000);
    }

    function oy_element_add(oy_parent_id, oy_element_tag, oy_element_id, oy_element_html) {
        let oy_element = document.createElement(oy_element_tag);
        oy_element.setAttribute('id', oy_element_id);
        oy_element.innerHTML = oy_element_html;
        document.getElementById(oy_parent_id).appendChild(oy_element);
    }

    function oy_element_remove(oy_element_id) {
        let oy_element = document.getElementById(oy_element_id);
        oy_element.parentNode.removeChild(oy_element);
    }

    function oy_graph_nonce_set(oy_nonce_max) {
        if (oy_nonce_max===null) {
            let oy_parent = document.getElementById("oy_graph_nonce");
            while (oy_parent.firstChild) oy_parent.removeChild(oy_parent.firstChild);
            return true;
        }
        let oy_nonce_counter = 0;
        let oy_nonce_buffer = 0.2;
        let oy_nonce_left = 0;
        let oy_nonce_width = 100/oy_nonce_max;
        while (oy_nonce_counter<oy_nonce_max) {
            oy_element_add("oy_graph_nonce", "div", "oy_graph_nonce_"+oy_nonce_counter, "");
            let oy_nonce_local = document.getElementById("oy_graph_nonce_"+oy_nonce_counter);
            oy_nonce_local.style.position = "absolute";
            oy_nonce_local.style.top = "-5%";
            oy_nonce_local.style.left = oy_nonce_left+"%";
            oy_nonce_local.style.height = "110%";
            oy_nonce_local.style.width = (oy_nonce_width+oy_nonce_buffer)+"%";
            oy_nonce_local.style.zIndex = ""+oy_nonce_counter;
            oy_nonce_local.style.transition = "all .6s ease-out";
            oy_nonce_left += oy_nonce_width;
            oy_nonce_counter++;
            setTimeout(function() {
                oy_nonce_local.style.backgroundColor = "#828282";
            }, 1);
        }
    }

    function oy_graph_nonce_fill(oy_nonce, oy_colour) {
        if (!document.getElementById("oy_graph_nonce_"+oy_nonce)) return false;
        if (oy_colour===null) document.getElementById("oy_graph_nonce_"+oy_nonce).style.backgroundColor = "#828282";
        else document.getElementById("oy_graph_nonce_"+oy_nonce).style.backgroundColor = "rgb(+"+oy_colour[0]+", "+oy_colour[1]+", "+oy_colour[2]+")";
    }

    function oy_graph_peer(oy_graph_slot, oy_peer_short, oy_beam_ratio) {
        if (window.OY_GRAPH_PEERS[oy_graph_slot]===false&&oy_peer_short!==null) {
            window.OY_GRAPH_PEERS[oy_graph_slot] = true;
            oy_element_add("oy_graph_slot_"+oy_graph_slot, "div", "oy_graph_slot_"+oy_graph_slot+"_base", "<div id='oy_graph_slot_"+oy_graph_slot+"_front' style='transition: all .3s ease-out;z-index:300;'><div id='oy_graph_slot_"+oy_graph_slot+"_name'>"+oy_peer_short+"</div></div><div id='oy_graph_slot_"+oy_graph_slot+"_beam' style='transition: all .3s ease-out;z-index:200;'></div><div id='oy_graph_slot_"+oy_graph_slot+"_soak' style='z-index:100;'></div>");
            document.getElementById("oy_graph_slot_"+oy_graph_slot+"_name").classList.add("oy_center_both");
            document.getElementById("oy_graph_slot_"+oy_graph_slot+"_front").classList.add("oy_peer_sub");
            document.getElementById("oy_graph_slot_"+oy_graph_slot+"_base").classList.add("oy_peer_sub");
            document.getElementById("oy_graph_slot_"+oy_graph_slot+"_soak").classList.add("oy_peer_soak");
            document.getElementById("oy_graph_slot_"+oy_graph_slot+"_beam").classList.add("oy_peer_beam");
            document.getElementById("oy_graph_slot_"+oy_graph_slot+"_beam").style.width = oy_beam_ratio+"%";
            document.getElementById("oy_graph_slot_"+oy_graph_slot+"_front").style.backgroundColor = "#8a3789";
            setTimeout(function() {
                document.getElementById("oy_graph_slot_"+oy_graph_slot+"_front").style.backgroundColor = "transparent";
            }, 400);
        }
        else if (window.OY_GRAPH_PEERS[oy_graph_slot]===true) {
            if (oy_peer_short===null) {
                window.OY_GRAPH_PEERS[oy_graph_slot] = false;
                document.getElementById("oy_graph_slot_"+oy_graph_slot+"_front").style.backgroundColor = "#8a1e26";
                setTimeout(function() {
                    oy_element_remove("oy_graph_slot_"+oy_graph_slot+"_base");
                }, 400);
            }
            else {
                document.getElementById("oy_graph_slot_"+oy_graph_slot+"_name").innerHTML = oy_peer_short;
                document.getElementById("oy_graph_slot_"+oy_graph_slot+"_beam").style.width = oy_beam_ratio+"%";
            }
        }
    }

    function b64toBlob(b64Data, contentType, sliceSize) {
        contentType = contentType || '';
        sliceSize = sliceSize || 512;

        var byteCharacters = atob(b64Data);
        var byteArrays = [];

        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
            var slice = byteCharacters.slice(offset, offset + sliceSize);

            var byteNumbers = new Array(slice.length);
            for (var i = 0; i < slice.length; i++) {
                byteNumbers[i] = slice.charCodeAt(i);
            }

            var byteArray = new Uint8Array(byteNumbers);

            byteArrays.push(byteArray);
        }

        return new Blob(byteArrays, {type: contentType});
    }

    function oy_file_read(oy_file_object, oy_callback) {
        let file = oy_file_object.target.files[0];
        if (!file) {
            return false;
        }
        let reader = new FileReader();
        reader.onload = function(oy_file_object) {
            oy_callback(JSON.stringify([file.name, file.type, oy_file_object.target.result]));
        };
        reader.readAsBinaryString(file);
    }

    function oy_file_change(oy_file_object) {
        oy_file_read(oy_file_object, function(oy_file_data) {
            window.OY_FILE_DATA = null;
            oy_push_reset();
            window.OY_FILE_DATA = oy_file_data;
            document.getElementById("oy_push_execute").classList.remove("oy_button_all_dull");
            document.getElementById("oy_push_execute").classList.add("oy_button_execute_active");

            document.getElementById("oy_push_reset").classList.remove("oy_button_all_dull");
            document.getElementById("oy_push_reset").classList.add("oy_button_reset_active");
        });
    }

    function oy_file_download(oy_file_raw) {
        let oy_file_data = JSON.parse(oy_file_raw);

        var blobUrl = URL.createObjectURL(b64toBlob(window.btoa(oy_file_data[2]), oy_file_data[1]));
        var a = document.createElement("a");
        document.body.appendChild(a);
        a.style = "display: none";
        a.href = blobUrl;
        a.download = oy_file_data[0];
        a.click();
        window.URL.revokeObjectURL(blobUrl);
    }

    function oy_push_superhandle_copy() {
        if (window.OY_HANDLE_PUSH!==null) {
            document.getElementById("oy_push_superhandle").select();
            document.execCommand("copy");
            document.getElementById("oy_tooltip_push").innerHTML = "Copied handle";
            window.OY_HANDLE_PUSH_COPY = true;
        }
    }

    function oy_push_superhandle_reset() {
        document.getElementById("oy_tooltip_push").innerHTML = "Copy to clipboard";
    }

    function oy_push_execute() {
        if (document.getElementById("oy_push_execute").classList.contains("oy_button_all_dull")) return false;
        //if (window.OY_EXECUTE_PUSH===true||window.OY_EXECUTE_PULL===true||window.OY_EXECUTE_RECOMMIT===true||window.OY_FILE_DATA===null) return false;
        window.OY_EXECUTE_PUSH = true;
        document.getElementById("oy_push_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_push_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_push_halt").classList.remove("oy_button_all_dull");
        document.getElementById("oy_push_halt").classList.add("oy_button_halt_active");

        document.getElementById("oy_push_reset").classList.remove("oy_button_reset_active");
        document.getElementById("oy_push_reset").classList.add("oy_button_all_dull");

        //document.getElementById("oy_pull_reset").classList.remove("oy_button_reset_active");
        //document.getElementById("oy_pull_reset").classList.add("oy_button_all_dull");
        //document.getElementById("oy_pull_superhandle").value = "";
        //oy_pull_reset_handle_blur();
        oy_pull_reset_handle_partial();

        document.getElementById("oy_recommit_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_recommit_execute").classList.add("oy_button_all_dull");

        if (window.OY_HANDLE_PUSH===null) {
            let oy_superhandle = oy_data_push(window.OY_FILE_DATA);
            window.OY_FILE_DATA = "oy_null";
            document.getElementById("oy_push_superhandle").value = oy_superhandle;
            window.OY_HANDLE_PUSH = oy_superhandle.substr(32, 48);
            window.OY_HANDLE_PUSH_COPY = false;
            document.getElementById("oy_tooltip_push").style.display = "block";
        }
        else oy_data_push(null, window.OY_HANDLE_PUSH);
    }

    function oy_push_halt() {
        if (document.getElementById("oy_push_halt").classList.contains("oy_button_all_dull")) return false;
        //if (window.OY_EXECUTE_PUSH===false) return false;
        window.OY_EXECUTE_PUSH = false;
        document.getElementById("oy_push_execute").classList.remove("oy_button_all_dull");
        document.getElementById("oy_push_execute").classList.add("oy_button_execute_active");

        document.getElementById("oy_push_halt").classList.remove("oy_button_halt_active");
        document.getElementById("oy_push_halt").classList.add("oy_button_all_dull");

        document.getElementById("oy_push_reset").classList.remove("oy_button_all_dull");
        document.getElementById("oy_push_reset").classList.add("oy_button_reset_active");

        //document.getElementById("oy_pull_reset").classList.remove("oy_button_reset_active");
        //document.getElementById("oy_pull_reset").classList.add("oy_button_all_dull");
        //document.getElementById("oy_pull_superhandle").value = "";
        //oy_pull_reset_handle_blur();
        oy_pull_reset_handle_resume();

        document.getElementById("oy_recommit_execute").classList.remove("oy_button_all_dull");
        document.getElementById("oy_recommit_execute").classList.add("oy_button_execute_active");

        window.OY_DATA_PUSH[window.OY_HANDLE_PUSH] = false;
    }

    function oy_push_reset() {
        if (document.getElementById("oy_push_reset").classList.contains("oy_button_all_dull")) return false;
        //if (window.OY_EXECUTE_PUSH===true||window.OY_FILE_DATA===null) return false;
        document.getElementById("oy_push_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_push_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_push_reset").classList.remove("oy_button_reset_active");
        document.getElementById("oy_push_reset").classList.add("oy_button_all_dull");

        //document.getElementById("oy_pull_superhandle").value = "";
        //oy_pull_reset_handle_blur();
        //oy_pull_reset_handle_partial();

        document.getElementById("oy_recommit_execute").classList.remove("oy_button_all_dull");
        document.getElementById("oy_recommit_execute").classList.add("oy_button_execute_active");

        oy_data_push_reset(window.OY_HANDLE_PUSH);
        window.OY_HANDLE_PUSH = null;
        window.OY_HANDLE_PUSH_COPY = null;
        window.OY_FILE_DATA = null;
        document.getElementById("oy_file_upload").value = "";
        document.getElementById("oy_push_superhandle").value = "-".repeat(82);
        document.getElementById("oy_tooltip_push").style.display = "none";
    }

    function oy_push_reset_handle_enter() {
        if (window.OY_HANDLE_PUSH_COPY===false&&window.OY_EXECUTE_PUSH===false&&window.OY_FILE_DATA!==null) document.getElementById("oy_tooltip_push_warn").style.opacity = "1";
    }

    function oy_push_reset_handle_leave() {
        document.getElementById("oy_tooltip_push_warn").style.opacity = null;
    }

    function oy_pull_execute() {
        if (document.getElementById("oy_pull_execute").classList.contains("oy_button_all_dull")) return false;
        //if (window.OY_EXECUTE_PUSH===true||window.OY_EXECUTE_PULL===true||window.OY_EXECUTE_RECOMMIT===true) return false;
        window.OY_EXECUTE_PULL = true;
        document.getElementById("oy_pull_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_pull_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_pull_halt").classList.remove("oy_button_all_dull");
        document.getElementById("oy_pull_halt").classList.add("oy_button_halt_active");

        document.getElementById("oy_pull_reset").classList.remove("oy_button_reset_active");
        document.getElementById("oy_pull_reset").classList.add("oy_button_all_dull");

        document.getElementById("oy_push_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_push_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_recommit_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_recommit_execute").classList.add("oy_button_all_dull");

        window.OY_HANDLE_PULL = document.getElementById('oy_pull_superhandle').value.substr(32, 48);

        oy_data_pull(function(oy_superhandle, oy_data_value) {
            oy_pull_halt();
            oy_file_download(oy_data_value);
        }, document.getElementById('oy_pull_superhandle').value);
    }

    function oy_pull_halt() {
        if (document.getElementById("oy_pull_halt").classList.contains("oy_button_all_dull")) return false;
        //if (window.OY_EXECUTE_PULL===false) return false;
        window.OY_EXECUTE_PULL = false;
        document.getElementById("oy_pull_execute").classList.remove("oy_button_all_dull");
        document.getElementById("oy_pull_execute").classList.add("oy_button_execute_active");

        document.getElementById("oy_pull_halt").classList.remove("oy_button_halt_active");
        document.getElementById("oy_pull_halt").classList.add("oy_button_all_dull");

        document.getElementById("oy_pull_reset").classList.remove("oy_button_all_dull");
        document.getElementById("oy_pull_reset").classList.add("oy_button_reset_active");

        if (window.OY_HANDLE_PUSH!==null) {
            document.getElementById("oy_push_execute").classList.remove("oy_button_all_dull");
            document.getElementById("oy_push_execute").classList.add("oy_button_execute_active");
        }

        document.getElementById("oy_recommit_execute").classList.remove("oy_button_all_dull");
        document.getElementById("oy_recommit_execute").classList.add("oy_button_execute_active");

        window.OY_DATA_PULL[window.OY_HANDLE_PULL] = false;
    }

    function oy_pull_reset() {
        if (document.getElementById("oy_pull_reset").classList.contains("oy_button_all_dull")) return false;
        //if (window.OY_EXECUTE_PULL===false) return false;
        window.OY_EXECUTE_PULL = false;

        document.getElementById("oy_pull_reset").classList.remove("oy_button_halt_active");
        document.getElementById("oy_pull_reset").classList.add("oy_button_all_dull");

        document.getElementById("oy_pull_superhandle").value = "";
        oy_pull_reset_handle_blur();

        document.getElementById("oy_pull_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_pull_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_pull_halt").classList.remove("oy_button_halt_active");
        document.getElementById("oy_pull_halt").classList.add("oy_button_all_dull");

        document.getElementById("oy_push_execute").classList.remove("oy_button_all_dull");
        document.getElementById("oy_push_execute").classList.add("oy_button_execute_active");

        document.getElementById("oy_recommit_execute").classList.remove("oy_button_all_dull");
        document.getElementById("oy_recommit_execute").classList.add("oy_button_execute_active");
    }

    function oy_pull_reset_handle_click() {
        if (document.getElementById("oy_pull_reset").classList.contains("oy_button_all_dull")) document.getElementById("oy_pull_superhandle").value = "";
    }

    function oy_pull_reset_handle_blur() {
        if (document.getElementById("oy_pull_superhandle").value.length<80&&document.getElementById("oy_pull_superhandle").value.substr(0, 1)!=="-"&&document.getElementById("oy_pull_reset").classList.contains("oy_button_all_dull")) {
            document.getElementById("oy_pull_superhandle").value = "-".repeat(82);
            document.getElementById("oy_pull_execute").classList.remove("oy_button_execute_active");
            document.getElementById("oy_pull_execute").classList.add("oy_button_all_dull");

            document.getElementById("oy_pull_reset").classList.remove("oy_button_reset_active");
            document.getElementById("oy_pull_reset").classList.add("oy_button_all_dull");
        }
        else {
            document.getElementById("oy_pull_execute").classList.remove("oy_button_all_dull");
            document.getElementById("oy_pull_execute").classList.add("oy_button_execute_active");

            document.getElementById("oy_pull_reset").classList.remove("oy_button_all_dull");
            document.getElementById("oy_pull_reset").classList.add("oy_button_reset_active");
        }
    }

    function oy_pull_reset_handle_partial() {
        document.getElementById("oy_pull_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_pull_execute").classList.add("oy_button_all_dull");
    }

    function oy_pull_reset_handle_resume() {
        if (document.getElementById("oy_pull_superhandle").value.length>=80&&document.getElementById("oy_pull_superhandle").value.substr(0, 1)!=="-") {
            document.getElementById("oy_pull_execute").classList.remove("oy_button_all_dull");
            document.getElementById("oy_pull_execute").classList.add("oy_button_execute_active");
        }
    }

    function oy_recommit_execute() {
        if (window.OY_EXECUTE_PUSH===true||window.OY_EXECUTE_PULL===true||window.OY_EXECUTE_RECOMMIT===true) return false;
        window.OY_EXECUTE_RECOMMIT = true;
        document.getElementById("oy_recommit_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_recommit_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_recommit_halt").classList.remove("oy_button_all_dull");
        document.getElementById("oy_recommit_halt").classList.add("oy_button_halt_active");

        document.getElementById("oy_push_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_push_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_pull_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_pull_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_send_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_send_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_receive_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_receive_execute").classList.add("oy_button_all_dull");
    }

    function oy_recommit_halt() {
        if (window.OY_EXECUTE_RECOMMIT===false) return false;
        window.OY_EXECUTE_RECOMMIT = false;
        document.getElementById("oy_recommit_execute").classList.remove("oy_button_all_dull");
        document.getElementById("oy_recommit_execute").classList.add("oy_button_execute_active");

        document.getElementById("oy_recommit_halt").classList.remove("oy_button_halt_active");
        document.getElementById("oy_recommit_halt").classList.add("oy_button_all_dull");

        document.getElementById("oy_push_execute").classList.remove("oy_button_all_dull");
        document.getElementById("oy_push_execute").classList.add("oy_button_execute_active");

        document.getElementById("oy_pull_execute").classList.remove("oy_button_all_dull");
        document.getElementById("oy_pull_execute").classList.add("oy_button_execute_active");

        document.getElementById("oy_send_execute").classList.remove("oy_button_all_dull");
        document.getElementById("oy_send_execute").classList.add("oy_button_execute_active");

        document.getElementById("oy_receive_execute").classList.remove("oy_button_all_dull");
        document.getElementById("oy_receive_execute").classList.add("oy_button_execute_active");
    }

    function oy_send_execute() {
        if (window.OY_EXECUTE_PUSH===true||window.OY_EXECUTE_PULL===true||window.OY_EXECUTE_RECOMMIT===true) return false;
        window.OY_EXECUTE_SEND = true;
        document.getElementById("oy_recommit_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_recommit_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_recommit_halt").classList.remove("oy_button_all_dull");
        document.getElementById("oy_recommit_halt").classList.add("oy_button_halt_active");

        document.getElementById("oy_push_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_push_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_pull_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_pull_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_send_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_send_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_receive_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_receive_execute").classList.add("oy_button_all_dull");
    }

    function oy_receive_execute() {
        if (window.OY_EXECUTE_PUSH===true||window.OY_EXECUTE_PULL===true||window.OY_EXECUTE_RECOMMIT===true) return false;
        window.OY_EXECUTE_RECEIVE = true;
        document.getElementById("oy_recommit_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_recommit_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_recommit_halt").classList.remove("oy_button_all_dull");
        document.getElementById("oy_recommit_halt").classList.add("oy_button_halt_active");

        document.getElementById("oy_push_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_push_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_pull_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_pull_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_send_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_send_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_receive_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_receive_execute").classList.add("oy_button_all_dull");
    }

    function oy_tab(oy_tab_id) {
        if (oy_tab_id==="oy_tab_push") {
            document.getElementById('oy_tab_push').style.backgroundColor = "#404040";
            document.getElementById('oy_tab_pull').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_recommit').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_send').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_receive').style.backgroundColor = "#7A7A7A";

            document.getElementById('oy_tab_push').style.color = "#d7d7d7";
            document.getElementById('oy_tab_pull').style.color = "#232323";
            document.getElementById('oy_tab_recommit').style.color = "#232323";
            document.getElementById('oy_tab_send').style.color = "#232323";
            document.getElementById('oy_tab_receive').style.color = "#232323";

            if (window.OY_EXECUTE_PULL===true) document.getElementById('oy_tab_pull').style.backgroundColor = "#c37b2c";
            if (window.OY_EXECUTE_RECOMMIT===true) document.getElementById('oy_tab_recommit').style.backgroundColor = "#c37b2c";

            document.getElementById('oy_interface_store').style.display = "block";
            document.getElementById('oy_interface_retrieve').style.display = "none";
            document.getElementById('oy_interface_recommit').style.display = "none";
            document.getElementById('oy_interface_send').style.display = "none";
            document.getElementById('oy_interface_receive').style.display = "none";
        }
        else if (oy_tab_id==="oy_tab_pull") {
            document.getElementById('oy_tab_push').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_pull').style.backgroundColor = "#404040";
            document.getElementById('oy_tab_recommit').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_send').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_receive').style.backgroundColor = "#7A7A7A";

            document.getElementById('oy_tab_push').style.color = "#232323";
            document.getElementById('oy_tab_pull').style.color = "#d7d7d7";
            document.getElementById('oy_tab_recommit').style.color = "#232323";
            document.getElementById('oy_tab_send').style.color = "#232323";
            document.getElementById('oy_tab_receive').style.color = "#232323";

            if (window.OY_EXECUTE_PUSH===true) document.getElementById('oy_tab_push').style.backgroundColor = "#c37b2c";
            if (window.OY_EXECUTE_RECOMMIT===true) document.getElementById('oy_tab_recommit').style.backgroundColor = "#c37b2c";

            document.getElementById('oy_interface_store').style.display = "none";
            document.getElementById('oy_interface_retrieve').style.display = "block";
            document.getElementById('oy_interface_recommit').style.display = "none";
            document.getElementById('oy_interface_send').style.display = "none";
            document.getElementById('oy_interface_receive').style.display = "none";
        }
        else if (oy_tab_id==="oy_tab_recommit") {
            document.getElementById('oy_tab_push').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_pull').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_recommit').style.backgroundColor = "#404040";
            document.getElementById('oy_tab_send').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_receive').style.backgroundColor = "#7A7A7A";

            document.getElementById('oy_tab_push').style.color = "#232323";
            document.getElementById('oy_tab_pull').style.color = "#232323";
            document.getElementById('oy_tab_recommit').style.color = "#d7d7d7";
            document.getElementById('oy_tab_send').style.color = "#232323";
            document.getElementById('oy_tab_receive').style.color = "#232323";

            if (window.OY_EXECUTE_PUSH===true) document.getElementById('oy_tab_push').style.backgroundColor = "#c37b2c";
            if (window.OY_EXECUTE_PULL===true) document.getElementById('oy_tab_pull').style.backgroundColor = "#c37b2c";

            document.getElementById('oy_interface_store').style.display = "none";
            document.getElementById('oy_interface_retrieve').style.display = "none";
            document.getElementById('oy_interface_recommit').style.display = "block";
            document.getElementById('oy_interface_send').style.display = "none";
            document.getElementById('oy_interface_receive').style.display = "none";
        }
        else if (oy_tab_id==="oy_tab_send") {
            document.getElementById('oy_tab_push').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_pull').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_recommit').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_send').style.backgroundColor = "#404040";
            document.getElementById('oy_tab_receive').style.backgroundColor = "#7A7A7A";

            document.getElementById('oy_tab_push').style.color = "#232323";
            document.getElementById('oy_tab_pull').style.color = "#232323";
            document.getElementById('oy_tab_recommit').style.color = "#232323";
            document.getElementById('oy_tab_send').style.color = "#d7d7d7";
            document.getElementById('oy_tab_receive').style.color = "#232323";

            if (window.OY_EXECUTE_PUSH===true) document.getElementById('oy_tab_push').style.backgroundColor = "#c37b2c";
            if (window.OY_EXECUTE_PULL===true) document.getElementById('oy_tab_pull').style.backgroundColor = "#c37b2c";
            if (window.OY_EXECUTE_RECOMMIT===true) document.getElementById('oy_tab_recommit').style.backgroundColor = "#c37b2c";

            document.getElementById('oy_interface_store').style.display = "none";
            document.getElementById('oy_interface_retrieve').style.display = "none";
            document.getElementById('oy_interface_recommit').style.display = "none";
            document.getElementById('oy_interface_send').style.display = "block";
            document.getElementById('oy_interface_receive').style.display = "none";
        }
        else if (oy_tab_id==="oy_tab_receive") {
            document.getElementById('oy_tab_push').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_pull').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_recommit').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_send').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_receive').style.backgroundColor = "#404040";

            document.getElementById('oy_tab_push').style.color = "#232323";
            document.getElementById('oy_tab_pull').style.color = "#232323";
            document.getElementById('oy_tab_recommit').style.color = "#232323";
            document.getElementById('oy_tab_send').style.color = "#232323";
            document.getElementById('oy_tab_receive').style.color = "#d7d7d7";

            if (window.OY_EXECUTE_PUSH===true) document.getElementById('oy_tab_push').style.backgroundColor = "#c37b2c";
            if (window.OY_EXECUTE_PULL===true) document.getElementById('oy_tab_pull').style.backgroundColor = "#c37b2c";
            if (window.OY_EXECUTE_RECOMMIT===true) document.getElementById('oy_tab_recommit').style.backgroundColor = "#c37b2c";

            document.getElementById('oy_interface_store').style.display = "none";
            document.getElementById('oy_interface_retrieve').style.display = "none";
            document.getElementById('oy_interface_recommit').style.display = "none";
            document.getElementById('oy_interface_send').style.display = "none";
            document.getElementById('oy_interface_receive').style.display = "block";
        }
    }
</script>
</body>
</html>